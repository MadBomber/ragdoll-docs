<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>class Ragdoll::Core::Client - Ragdoll Documentation</title>

  <meta name="keywords" content="ruby,class,Ragdoll::Core::Client">

    <meta name="description" content="Documentation for the Ragdoll::Core::Client class">


<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  <div id="parent-class-section" class="nav-section">
  <h3>Ancestors</h3>
  <ul><li><a href="../../Object.html">Object</a><ul><li>BasicObject</li></ul></li></ul>
</div>

  
  
  
  <div class="nav-section">
    <h3>Class Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-c-new">new</a></li>
    </ul>
  </div>



  <div class="nav-section">
    <h3>Instance Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-i-add_directory">add_directory</a></li>
      <li ><a href="#method-i-add_document">add_document</a></li>
      <li ><a href="#method-i-add_text">add_text</a></li>
      <li ><a href="#method-i-delete_document">delete_document</a></li>
      <li ><a href="#method-i-document_status">document_status</a></li>
      <li ><a href="#method-i-enhance_prompt">enhance_prompt</a></li>
      <li ><a href="#method-i-get_context">get_context</a></li>
      <li ><a href="#method-i-get_document">get_document</a></li>
      <li ><a href="#method-i-healthy-3F">healthy?</a></li>
      <li ><a href="#method-i-hybrid_search">hybrid_search</a></li>
      <li ><a href="#method-i-list_documents">list_documents</a></li>
      <li ><a href="#method-i-search">search</a></li>
      <li ><a href="#method-i-search_analytics">search_analytics</a></li>
      <li ><a href="#method-i-search_similar_content">search_similar_content</a></li>
      <li ><a href="#method-i-stats">stats</a></li>
      <li ><a href="#method-i-update_document">update_document</a></li>
    </ul>
  </div>



  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.14.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="class-Ragdoll::Core::Client">
  
  
    <ol role="navigation" aria-label="breadcrumb" class="breadcrumb">
      
      <li>
        
        <a href="../../Ragdoll.html">Ragdoll</a><span>::</span>
        
      </li>
      
      <li>
        
        <a href="../../Ragdoll/Core.html">Core</a><span>::</span>
        
      </li>
      
      <li>
        
        <span>Client</span>
        
      </li>
      
    </ol>
  

  <h1 id="class-Ragdoll::Core::Client" class="anchor-link class">
    class Ragdoll::Core::Client
  </h1>

  <section class="description">
    
  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">





     <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-new" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-c-new" title="Link to this method">
                <span class="method-name">new</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>
  <span class="ruby-comment"># Setup configuration services</span>
  <span class="ruby-ivar">@config_service</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">ConfigurationService</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@model_resolver</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">ModelResolver</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@config_service</span>)

  <span class="ruby-comment"># Setup logging</span>
  <span class="ruby-identifier">setup_logging</span>

  <span class="ruby-comment"># Setup database connection</span>
  <span class="ruby-constant">Database</span>.<span class="ruby-identifier">setup</span>(<span class="ruby-ivar">@config_service</span>.<span class="ruby-identifier">config</span>.<span class="ruby-identifier">database</span>)

  <span class="ruby-ivar">@embedding_service</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">EmbeddingService</span>.<span class="ruby-identifier">new</span>(
    <span class="ruby-value">client:</span> <span class="ruby-keyword">nil</span>,
    <span class="ruby-value">config_service:</span> <span class="ruby-ivar">@config_service</span>,
    <span class="ruby-value">model_resolver:</span> <span class="ruby-ivar">@model_resolver</span>
  )
  <span class="ruby-ivar">@search_engine</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">SearchEngine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@embedding_service</span>, <span class="ruby-value">config_service:</span> <span class="ruby-ivar">@config_service</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-add_directory" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-add_directory" title="Link to this method">
                <span class="method-name">add_directory</span>
                <span class="method-args">(path:, recursive: false)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="add_directory-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_directory</span>(<span class="ruby-value">path:</span>, <span class="ruby-value">recursive:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">results</span> = []
  <span class="ruby-identifier">pattern</span> = <span class="ruby-identifier">recursive</span> <span class="ruby-operator">?</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;*&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;*&quot;</span>)

  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">pattern</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file_path</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">file_path</span>)

    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">doc_id</span> = <span class="ruby-identifier">add_document</span>(<span class="ruby-value">path:</span> <span class="ruby-identifier">file_path</span>)
      <span class="ruby-identifier">results</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-value">file:</span> <span class="ruby-identifier">file_path</span>, <span class="ruby-value">document_id:</span> <span class="ruby-identifier">doc_id</span>, <span class="ruby-value">status:</span> <span class="ruby-string">&quot;success&quot;</span> }
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">results</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-value">file:</span> <span class="ruby-identifier">file_path</span>, <span class="ruby-value">error:</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>, <span class="ruby-value">status:</span> <span class="ruby-string">&quot;error&quot;</span> }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">results</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-add_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-add_document" title="Link to this method">
                <span class="method-name">add_document</span>
                <span class="method-args">(path:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="add_document-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_document</span>(<span class="ruby-value">path:</span>)
  <span class="ruby-comment"># Parse the document</span>
  <span class="ruby-identifier">parsed</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentProcessor</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">path</span>)

  <span class="ruby-comment"># Extract title from metadata or use filename</span>
  <span class="ruby-identifier">title</span> = <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:metadata</span>][<span class="ruby-value">:title</span>] <span class="ruby-operator">||</span>
          <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">path</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">path</span>))

  <span class="ruby-comment"># Add document to database</span>
  <span class="ruby-identifier">doc_id</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">add_document</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:content</span>], {
                                             <span class="ruby-value">title:</span> <span class="ruby-identifier">title</span>,
                                             <span class="ruby-value">document_type:</span> <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:document_type</span>],
                                             <span class="ruby-operator">**</span><span class="ruby-identifier">parsed</span>[<span class="ruby-value">:metadata</span>]
                                           })

  <span class="ruby-comment"># Queue background jobs for processing if content is available</span>
  <span class="ruby-identifier">embeddings_queued</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:content</span>].<span class="ruby-identifier">present?</span>
    <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">GenerateEmbeddingsJob</span>.<span class="ruby-identifier">perform_later</span>(<span class="ruby-identifier">doc_id</span>)
    <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">GenerateSummaryJob</span>.<span class="ruby-identifier">perform_later</span>(<span class="ruby-identifier">doc_id</span>)
    <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">ExtractKeywordsJob</span>.<span class="ruby-identifier">perform_later</span>(<span class="ruby-identifier">doc_id</span>)
    <span class="ruby-identifier">embeddings_queued</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Return success information</span>
  {
    <span class="ruby-value">success:</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">document_id:</span> <span class="ruby-identifier">doc_id</span>,
    <span class="ruby-value">title:</span> <span class="ruby-identifier">title</span>,
    <span class="ruby-value">document_type:</span> <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:document_type</span>],
    <span class="ruby-value">content_length:</span> <span class="ruby-identifier">parsed</span>[<span class="ruby-value">:content</span>]&amp;.<span class="ruby-identifier">length</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>,
    <span class="ruby-value">embeddings_queued:</span> <span class="ruby-identifier">embeddings_queued</span>,
    <span class="ruby-value">message:</span> <span class="ruby-node">&quot;Document &#39;#{title}&#39; added successfully with ID #{doc_id}&quot;</span>
  }
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span> <span class="ruby-comment"># StandardError =&gt; e</span>
  {
    <span class="ruby-value">success:</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-value">error:</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>,
    <span class="ruby-value">message:</span> <span class="ruby-node">&quot;Failed to add document: #{e.message}&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Document management</p>
        </div>


      </div>

      <div id="method-i-add_text" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-add_text" title="Link to this method">
                <span class="method-name">add_text</span>
                <span class="method-args">(content:, title:, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="add_text-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_text</span>(<span class="ruby-value">content:</span>, <span class="ruby-value">title:</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># Add document to database</span>
  <span class="ruby-identifier">doc_id</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">add_document</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">content</span>, {
                                             <span class="ruby-value">title:</span> <span class="ruby-identifier">title</span>,
                                             <span class="ruby-value">document_type:</span> <span class="ruby-string">&quot;text&quot;</span>,
                                             <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>
                                           })

  <span class="ruby-comment"># Queue background job for embeddings</span>
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">GenerateEmbeddingsJob</span>.<span class="ruby-identifier">perform_later</span>(<span class="ruby-identifier">doc_id</span>,
                                               <span class="ruby-value">chunk_size:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:chunk_size</span>],
                                               <span class="ruby-value">chunk_overlap:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:chunk_overlap</span>])

  <span class="ruby-identifier">doc_id</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-delete_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-delete_document" title="Link to this method">
                <span class="method-name">delete_document</span>
                <span class="method-args">(id:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="delete_document-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 307</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_document</span>(<span class="ruby-value">id:</span>)
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">delete_document</span>(<span class="ruby-identifier">id</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-document_status" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-document_status" title="Link to this method">
                <span class="method-name">document_status</span>
                <span class="method-args">(id:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="document_status-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">document_status</span>(<span class="ruby-value">id:</span>)
  <span class="ruby-identifier">document</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">embeddings_count</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">all_embeddings</span>.<span class="ruby-identifier">count</span>

  {
    <span class="ruby-value">id:</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">id</span>,
    <span class="ruby-value">title:</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">title</span>,
    <span class="ruby-value">status:</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">status</span>,
    <span class="ruby-value">embeddings_count:</span> <span class="ruby-identifier">embeddings_count</span>,
    <span class="ruby-value">embeddings_ready:</span> <span class="ruby-identifier">embeddings_count</span>.<span class="ruby-identifier">positive?</span>,
    <span class="ruby-value">content_preview:</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">content</span>&amp;.<span class="ruby-identifier">first</span>(<span class="ruby-value">200</span>) <span class="ruby-operator">||</span> <span class="ruby-string">&quot;No content&quot;</span>,
    <span class="ruby-value">message:</span> <span class="ruby-keyword">case</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">status</span>
             <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;processed&quot;</span>
               <span class="ruby-node">&quot;Document processed successfully with #{embeddings_count} embeddings&quot;</span>
             <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;processing&quot;</span>
               <span class="ruby-string">&quot;Document is being processed&quot;</span>
             <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;pending&quot;</span>
               <span class="ruby-string">&quot;Document is pending processing&quot;</span>
             <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;error&quot;</span>
               <span class="ruby-string">&quot;Document processing failed&quot;</span>
             <span class="ruby-keyword">else</span>
               <span class="ruby-node">&quot;Document status: #{document.status}&quot;</span>
             <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordNotFound</span>
  {
    <span class="ruby-value">success:</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-value">error:</span> <span class="ruby-string">&quot;Document not found&quot;</span>,
    <span class="ruby-value">message:</span> <span class="ruby-node">&quot;Document with ID #{id} does not exist&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-enhance_prompt" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-enhance_prompt" title="Link to this method">
                <span class="method-name">enhance_prompt</span>
                <span class="method-args">(prompt:, context_limit: 5, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="enhance_prompt-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">enhance_prompt</span>(<span class="ruby-value">prompt:</span>, <span class="ruby-value">context_limit:</span> <span class="ruby-value">5</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">context_data</span> = <span class="ruby-identifier">get_context</span>(<span class="ruby-value">query:</span> <span class="ruby-identifier">prompt</span>, <span class="ruby-value">limit:</span> <span class="ruby-identifier">context_limit</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">context_data</span>[<span class="ruby-value">:context_chunks</span>].<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">enhanced_prompt</span> = <span class="ruby-identifier">build_enhanced_prompt</span>(<span class="ruby-identifier">prompt</span>, <span class="ruby-identifier">context_data</span>[<span class="ruby-value">:combined_context</span>])
    {
      <span class="ruby-value">enhanced_prompt:</span> <span class="ruby-identifier">enhanced_prompt</span>,
      <span class="ruby-value">original_prompt:</span> <span class="ruby-identifier">prompt</span>,
      <span class="ruby-value">context_sources:</span> <span class="ruby-identifier">context_data</span>[<span class="ruby-value">:context_chunks</span>].<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span> <span class="ruby-identifier">chunk</span>[<span class="ruby-value">:source</span>] },
      <span class="ruby-value">context_count:</span> <span class="ruby-identifier">context_data</span>[<span class="ruby-value">:total_chunks</span>]
    }
  <span class="ruby-keyword">else</span>
    {
      <span class="ruby-value">enhanced_prompt:</span> <span class="ruby-identifier">prompt</span>,
      <span class="ruby-value">original_prompt:</span> <span class="ruby-identifier">prompt</span>,
      <span class="ruby-value">context_sources:</span> [],
      <span class="ruby-value">context_count:</span> <span class="ruby-value">0</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Primary method for RAG applications Returns context-enhanced content for AI prompts</p>
        </div>


      </div>

      <div id="method-i-get_context" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-get_context" title="Link to this method">
                <span class="method-name">get_context</span>
                <span class="method-args">(query:, limit: 10, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="get_context-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_context</span>(<span class="ruby-value">query:</span>, <span class="ruby-value">limit:</span> <span class="ruby-value">10</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">search_response</span> = <span class="ruby-identifier">search_similar_content</span>(<span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>, <span class="ruby-value">limit:</span> <span class="ruby-identifier">limit</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  
  <span class="ruby-comment"># Handle both old format (array) and new format (hash with results/statistics)</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">search_response</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">search_response</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:results</span>)
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">search_response</span>[<span class="ruby-value">:results</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Fallback for old format</span>
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">search_response</span> <span class="ruby-operator">||</span> []
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">context_chunks</span> = <span class="ruby-identifier">results</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
    {
      <span class="ruby-value">content:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:content</span>],
      <span class="ruby-value">source:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:document_location</span>],
      <span class="ruby-value">similarity:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:similarity</span>],
      <span class="ruby-value">chunk_index:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:chunk_index</span>]
    }
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">combined_context</span> = <span class="ruby-identifier">context_chunks</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span> <span class="ruby-identifier">chunk</span>[<span class="ruby-value">:content</span>] }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n\n&quot;</span>)

  {
    <span class="ruby-value">context_chunks:</span> <span class="ruby-identifier">context_chunks</span>,
    <span class="ruby-value">combined_context:</span> <span class="ruby-identifier">combined_context</span>,
    <span class="ruby-value">total_chunks:</span> <span class="ruby-identifier">context_chunks</span>.<span class="ruby-identifier">length</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Get relevant context without prompt enhancement</p>
        </div>


      </div>

      <div id="method-i-get_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-get_document" title="Link to this method">
                <span class="method-name">get_document</span>
                <span class="method-args">(id:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="get_document-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_document</span>(<span class="ruby-value">id:</span>)
  <span class="ruby-identifier">document_hash</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">get_document</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">document_hash</span>

  <span class="ruby-comment"># DocumentManagement.get_document already returns a hash with all needed info</span>
  <span class="ruby-identifier">document_hash</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-healthy-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-healthy-3F" title="Link to this method">
                <span class="method-name">healthy?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="healthy-3F-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">healthy?</span>
  <span class="ruby-constant">Database</span>.<span class="ruby-identifier">connected?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">stats</span>[<span class="ruby-value">:total_documents</span>] <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Health check</p>
        </div>


      </div>

      <div id="method-i-hybrid_search" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-hybrid_search" title="Link to this method">
                <span class="method-name">hybrid_search</span>
                <span class="method-args">(query:, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="hybrid_search-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hybrid_search</span>(<span class="ruby-value">query:</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">start_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">current</span>
  
  <span class="ruby-comment"># Extract tracking options</span>
  <span class="ruby-identifier">session_id</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:session_id</span>]
  <span class="ruby-identifier">user_id</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:user_id</span>]
  <span class="ruby-identifier">track_search</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:track_search</span>, <span class="ruby-keyword">true</span>)
  
  <span class="ruby-comment"># Generate embedding for the query</span>
  <span class="ruby-identifier">query_embedding</span> = <span class="ruby-ivar">@embedding_service</span>.<span class="ruby-identifier">generate_embedding</span>(<span class="ruby-identifier">query</span>)

  <span class="ruby-comment"># Perform hybrid search</span>
  <span class="ruby-identifier">results</span> = <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">hybrid_search</span>(<span class="ruby-identifier">query</span>, <span class="ruby-value">query_embedding:</span> <span class="ruby-identifier">query_embedding</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  
  <span class="ruby-identifier">execution_time</span> = ((<span class="ruby-constant">Time</span>.<span class="ruby-identifier">current</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">start_time</span>) <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>).<span class="ruby-identifier">round</span>
  
  <span class="ruby-comment"># Record search if tracking enabled</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">track_search</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">query</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">query</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-comment"># Format results for search recording - hybrid search returns different format</span>
      <span class="ruby-identifier">search_results</span> = <span class="ruby-identifier">results</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
        {
          <span class="ruby-value">embedding_id:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:embedding_id</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:id</span>],
          <span class="ruby-value">similarity:</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:similarity</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">result</span>[<span class="ruby-value">:score</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0.0</span>
        }
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-comment"># Extract filters from options</span>
      <span class="ruby-identifier">filters</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:document_type</span>, <span class="ruby-value">:status</span>).<span class="ruby-identifier">compact</span>
      <span class="ruby-identifier">search_options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">:limit</span>, <span class="ruby-value">:semantic_weight</span>, <span class="ruby-value">:text_weight</span>).<span class="ruby-identifier">compact</span>
      
      <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">Search</span>.<span class="ruby-identifier">record_search</span>(
        <span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>,
        <span class="ruby-value">query_embedding:</span> <span class="ruby-identifier">query_embedding</span>,
        <span class="ruby-value">results:</span> <span class="ruby-identifier">search_results</span>,
        <span class="ruby-value">search_type:</span> <span class="ruby-string">&quot;hybrid&quot;</span>,
        <span class="ruby-value">filters:</span> <span class="ruby-identifier">filters</span>,
        <span class="ruby-value">options:</span> <span class="ruby-identifier">search_options</span>,
        <span class="ruby-value">execution_time_ms:</span> <span class="ruby-identifier">execution_time</span>,
        <span class="ruby-value">session_id:</span> <span class="ruby-identifier">session_id</span>,
        <span class="ruby-value">user_id:</span> <span class="ruby-identifier">user_id</span>
      )
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-comment"># Log error but don&#39;t fail the search</span>
      <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Warning: Hybrid search tracking failed: #{e.message}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RAGDOLL_DEBUG&quot;</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  {
    <span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>,
    <span class="ruby-value">search_type:</span> <span class="ruby-string">&quot;hybrid&quot;</span>,
    <span class="ruby-value">results:</span> <span class="ruby-identifier">results</span>,
    <span class="ruby-value">total_results:</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">length</span>,
    <span class="ruby-value">semantic_weight:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:semantic_weight</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0.7</span>,
    <span class="ruby-value">text_weight:</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:text_weight</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0.3</span>
  }
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
  {
    <span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>,
    <span class="ruby-value">search_type:</span> <span class="ruby-string">&quot;hybrid&quot;</span>,
    <span class="ruby-value">results:</span> [],
    <span class="ruby-value">total_results:</span> <span class="ruby-value">0</span>,
    <span class="ruby-value">error:</span> <span class="ruby-node">&quot;Hybrid search failed: #{e.message}&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Hybrid search combining semantic and full-text search</p>
        </div>


      </div>

      <div id="method-i-list_documents" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-list_documents" title="Link to this method">
                <span class="method-name">list_documents</span>
                <span class="method-args">(**options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="list_documents-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 311</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">list_documents</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">list_documents</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-search" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-search" title="Link to this method">
                <span class="method-name">search</span>
                <span class="method-args">(query:, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="search-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search</span>(<span class="ruby-value">query:</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># Pass through tracking options to the search engine</span>
  <span class="ruby-identifier">search_response</span> = <span class="ruby-identifier">search_similar_content</span>(<span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  
  <span class="ruby-comment"># Handle both old format (array) and new format (hash with results/statistics)</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">search_response</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">search_response</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:results</span>)
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">search_response</span>[<span class="ruby-value">:results</span>]
    <span class="ruby-identifier">statistics</span> = <span class="ruby-identifier">search_response</span>[<span class="ruby-value">:statistics</span>]
    <span class="ruby-identifier">execution_time_ms</span> = <span class="ruby-identifier">search_response</span>[<span class="ruby-value">:execution_time_ms</span>]
    
    {
      <span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>,
      <span class="ruby-value">results:</span> <span class="ruby-identifier">results</span>,
      <span class="ruby-value">total_results:</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">length</span>,
      <span class="ruby-value">statistics:</span> <span class="ruby-identifier">statistics</span>,
      <span class="ruby-value">execution_time_ms:</span> <span class="ruby-identifier">execution_time_ms</span>
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Fallback for old format</span>
    <span class="ruby-identifier">results</span> = <span class="ruby-identifier">search_response</span> <span class="ruby-operator">||</span> []
    {
      <span class="ruby-value">query:</span> <span class="ruby-identifier">query</span>,
      <span class="ruby-value">results:</span> <span class="ruby-identifier">results</span>,
      <span class="ruby-value">total_results:</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">length</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Semantic search++ should incorporate hybrid search</p>
        </div>


      </div>

      <div id="method-i-search_analytics" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-search_analytics" title="Link to this method">
                <span class="method-name">search_analytics</span>
                <span class="method-args">(days: 30)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="search_analytics-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search_analytics</span>(<span class="ruby-value">days:</span> <span class="ruby-value">30</span>)
  <span class="ruby-comment"># This could be implemented with additional database queries</span>
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">Embedding</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;returned_at &gt; ?&quot;</span>, <span class="ruby-identifier">days</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">ago</span>)
                   .<span class="ruby-identifier">group</span>(<span class="ruby-string">&quot;DATE(returned_at)&quot;</span>)
                   .<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-search_similar_content" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-search_similar_content" title="Link to this method">
                <span class="method-name">search_similar_content</span>
                <span class="method-args">(query:, **options)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="search_similar_content-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">search_similar_content</span>(<span class="ruby-value">query:</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-ivar">@search_engine</span>.<span class="ruby-identifier">search_similar_content</span>(<span class="ruby-identifier">query</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Search similar content (core functionality)</p>
        </div>


      </div>

      <div id="method-i-stats" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-stats" title="Link to this method">
                <span class="method-name">stats</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="stats-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">stats</span>
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">get_document_stats</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Analytics and stats</p>
        </div>


      </div>

      <div id="method-i-update_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-update_document" title="Link to this method">
                <span class="method-name">update_document</span>
                <span class="method-args">(id:, **updates)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="update_document-source">
            <pre><span class="ruby-comment"># File lib/ragdoll/core/client.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update_document</span>(<span class="ruby-value">id:</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">updates</span>)
  <span class="ruby-constant">Ragdoll</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentManagement</span>.<span class="ruby-identifier">update_document</span>(<span class="ruby-identifier">id</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">updates</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

    </section>

  </section>
</main>

