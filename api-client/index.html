
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../api-jobs/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Client API Reference - Ragdoll Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#client-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ragdoll Documentation" class="md-header__button md-logo" aria-label="Ragdoll Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ragdoll Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Client API Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ragdoll Documentation" class="md-nav__button md-logo" aria-label="Ragdoll Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Ragdoll Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ragdoll Documentation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Client API Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Client API Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Client Initialization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Initialization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-management" class="md-nav__link">
    <span class="md-ellipsis">
      Document Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-document-addition" class="md-nav__link">
    <span class="md-ellipsis">
      Single Document Addition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-content-addition" class="md-nav__link">
    <span class="md-ellipsis">
      Text Content Addition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directory-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Document Retrieval
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Retrieval">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-document-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Single Document Retrieval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-listing" class="md-nav__link">
    <span class="md-ellipsis">
      Document Listing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Document Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      Document Deletion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Search Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-search" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-analytics" class="md-nav__link">
    <span class="md-ellipsis">
      Search Analytics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rag-enhancement" class="md-nav__link">
    <span class="md-ellipsis">
      RAG Enhancement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RAG Enhancement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Context Retrieval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-enhancement" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt Enhancement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-status-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Document Status and Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Status and Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processing-status" class="md-nav__link">
    <span class="md-ellipsis">
      Processing Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#background-job-management" class="md-nav__link">
    <span class="md-ellipsis">
      Background Job Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-operations" class="md-nav__link">
    <span class="md-ellipsis">
      System Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Health Monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-error-response-format" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Error Response Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-error-types" class="md-nav__link">
    <span class="md-ellipsis">
      Common Error Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      1. Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      2. Performance Optimization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-search-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Search Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rag-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      4. RAG Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jobs Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Services Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../background-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Background Processing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Production Deployment Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../document-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Document Processing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../embedding-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embedding System
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Variables Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../extending/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending the System
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../file-uploads/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Upload System
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation &amp; Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../llm-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Integration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../metadata-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata Schemas
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring &amp; Analytics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-modal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-Modal Architecture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Tuning
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../search-analytics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search &amp; Analytics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Considerations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Client Initialization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Initialization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-management" class="md-nav__link">
    <span class="md-ellipsis">
      Document Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-document-addition" class="md-nav__link">
    <span class="md-ellipsis">
      Single Document Addition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-content-addition" class="md-nav__link">
    <span class="md-ellipsis">
      Text Content Addition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directory-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Document Retrieval
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Retrieval">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-document-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Single Document Retrieval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-listing" class="md-nav__link">
    <span class="md-ellipsis">
      Document Listing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Document Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      Document Deletion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Search Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-search" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-analytics" class="md-nav__link">
    <span class="md-ellipsis">
      Search Analytics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rag-enhancement" class="md-nav__link">
    <span class="md-ellipsis">
      RAG Enhancement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RAG Enhancement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-retrieval" class="md-nav__link">
    <span class="md-ellipsis">
      Context Retrieval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-enhancement" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt Enhancement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-status-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Document Status and Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document Status and Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#processing-status" class="md-nav__link">
    <span class="md-ellipsis">
      Processing Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#background-job-management" class="md-nav__link">
    <span class="md-ellipsis">
      Background Job Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-operations" class="md-nav__link">
    <span class="md-ellipsis">
      System Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Health Monitoring
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-error-response-format" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Error Response Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-error-types" class="md-nav__link">
    <span class="md-ellipsis">
      Common Error Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      1. Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      2. Performance Optimization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-search-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      3. Search Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rag-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      4. RAG Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="client-api-reference">Client API Reference</h1>
<p>The Ragdoll Client provides a high-level interface for all document intelligence operations. This comprehensive API handles document management, search operations, RAG enhancement, and system monitoring through a clean, intuitive interface.</p>
<h2 id="overview">Overview</h2>
<p><strong>Schema Note</strong>: Following recent schema optimization, the Ragdoll database now uses a normalized schema where <code>embedding_model</code> information is stored in content-specific tables rather than duplicated in individual embeddings. This provides better data organization while maintaining all API functionality.</p>
<p>The Client class serves as the primary orchestration layer, providing:</p>
<ul>
<li><strong>Document Lifecycle Management</strong>: Add, update, delete, and monitor documents</li>
<li><strong>Multi-Modal Content Support</strong>: Handle text, image, and audio content seamlessly</li>
<li><strong>Advanced Search Operations</strong>: Semantic, full-text, and hybrid search capabilities</li>
<li><strong>RAG Enhancement</strong>: Context retrieval and prompt enhancement for LLM applications</li>
<li><strong>System Analytics</strong>: Health monitoring, usage statistics, and performance metrics</li>
<li><strong>Background Processing</strong>: Asynchronous job management and status tracking</li>
</ul>
<h2 id="client-initialization">Client Initialization</h2>
<h3 id="basic-initialization">Basic Initialization</h3>
<pre><code class="language-ruby"># Setup configuration first
Ragdoll::Core.configure do |config|
  config.llm_providers[:openai][:api_key] = ENV['OPENAI_API_KEY']
  config.models[:embedding][:text] = 'openai/text-embedding-3-small'
  config.models[:text_generation][:default] = 'openai/gpt-4o-mini'
  config.database = {
    adapter: 'postgresql',
    database: 'ragdoll_development',
    username: 'ragdoll',
    password: ENV['RAGDOLL_DATABASE_PASSWORD'],
    host: 'localhost',
    port: 5432,
    auto_migrate: true
  }
end

# Initialize client (uses global configuration)
client = Ragdoll::Core::Client.new
</code></pre>
<h2 id="document-management">Document Management</h2>
<h3 id="adding-documents">Adding Documents</h3>
<h4 id="single-document-addition">Single Document Addition</h4>
<pre><code class="language-ruby"># Add document from file path
result = client.add_document(path: 'research_paper.pdf')
# Returns:
# {
#   success: true,
#   document_id: &quot;123&quot;,
#   title: &quot;research_paper&quot;,
#   document_type: &quot;pdf&quot;,
#   content_length: 15000,
#   embeddings_queued: true,
#   message: &quot;Document 'research_paper' added successfully with ID 123&quot;
# }
</code></pre>
<h4 id="text-content-addition">Text Content Addition</h4>
<pre><code class="language-ruby"># Add raw text content
doc_id = client.add_text(
  content: &quot;This is the text content to be processed...&quot;,
  title: &quot;Text Document&quot;,
  source: 'user_input',
  language: 'en'
)

# Add text with custom chunking
doc_id = client.add_text(
  content: long_text_content,
  title: &quot;Long Text Document&quot;,
  chunk_size: 800,
  chunk_overlap: 150
)
</code></pre>
<h3 id="directory-processing">Directory Processing</h3>
<pre><code class="language-ruby"># Process entire directory
results = client.add_directory(
  path: '/path/to/documents',
  recursive: true
)

# Returns array of results:
# [
#   { file: &quot;/path/to/doc1.pdf&quot;, document_id: &quot;123&quot;, status: &quot;success&quot; },
#   { file: &quot;/path/to/doc2.txt&quot;, document_id: &quot;124&quot;, status: &quot;success&quot; },
#   { file: &quot;/path/to/bad.doc&quot;, error: &quot;Unsupported format&quot;, status: &quot;error&quot; }
# ]
</code></pre>
<h3 id="document-retrieval">Document Retrieval</h3>
<h4 id="single-document-retrieval">Single Document Retrieval</h4>
<pre><code class="language-ruby"># Get document by ID
document = client.get_document(id: &quot;123&quot;)
# Returns document hash with basic information

# Get document status
status = client.document_status(id: &quot;123&quot;)
# Returns:
# {
#   id: &quot;123&quot;,
#   title: &quot;research_paper&quot;,
#   status: &quot;processed&quot;,
#   embeddings_count: 24,
#   embeddings_ready: true,
#   content_preview: &quot;This research paper discusses...&quot;,
#   message: &quot;Document processed successfully with 24 embeddings&quot;
# }
</code></pre>
<h4 id="document-listing">Document Listing</h4>
<pre><code class="language-ruby"># List documents with basic options
documents = client.list_documents

# List with options
documents = client.list_documents(
  status: 'processed',
  document_type: 'pdf',
  limit: 20
)
</code></pre>
<h3 id="document-updates">Document Updates</h3>
<pre><code class="language-ruby"># Update document metadata
result = client.update_document(
  id: &quot;123&quot;,
  title: &quot;Updated Title&quot;,
  metadata: {
    category: 'technical',
    priority: 'high',
    last_reviewed: Date.current
  }
)

# Reprocess document with new settings
result = client.reprocess_document(
  id: &quot;123&quot;,
  chunk_size: 1200,
  regenerate_embeddings: true,
  update_summary: true,
  extract_keywords: true
)
</code></pre>
<h3 id="document-deletion">Document Deletion</h3>
<pre><code class="language-ruby"># Delete single document
result = client.delete_document(id: &quot;123&quot;)
# Returns:
# {
#   success: true,
#   message: &quot;Document 123 and associated content deleted successfully&quot;,
#   deleted_embeddings: 24,
#   deleted_content_items: 4
# }

# Delete multiple documents
result = client.delete_documents(ids: [&quot;123&quot;, &quot;124&quot;, &quot;125&quot;])

# Delete with criteria
result = client.delete_documents(
  status: 'error',
  created_before: 1.month.ago,
  confirm: true  # Safety check for bulk deletion
)
</code></pre>
<h2 id="search-operations">Search Operations</h2>
<h3 id="basic-search">Basic Search</h3>
<pre><code class="language-ruby"># Simple semantic search
results = client.search(query: &quot;machine learning algorithms&quot;)

# Search with options
results = client.search(
  query: &quot;neural network architectures&quot;,
  limit: 25,
  threshold: 0.8
)

# Returns:
# {
#   query: &quot;neural network architectures&quot;,
#   results: [
#     {
#       embedding_id: &quot;456&quot;,
#       document_id: &quot;123&quot;,
#       document_title: &quot;Deep Learning Fundamentals&quot;,
#       document_location: &quot;/path/to/document.pdf&quot;,
#       content: &quot;Neural networks are computational models...&quot;,
#       similarity: 0.92,
#       chunk_index: 3,
#       usage_count: 5
#     }
#   ],
#   total_results: 15
# }

# Hybrid search (semantic + full-text)
results = client.hybrid_search(
  query: &quot;neural networks&quot;,
  semantic_weight: 0.7,
  text_weight: 0.3
)
</code></pre>
<h3 id="search-analytics">Search Analytics</h3>
<pre><code class="language-ruby"># Simple search analytics available
analytics = client.search_analytics(days: 30)
# Returns basic usage statistics
</code></pre>
<h2 id="rag-enhancement">RAG Enhancement</h2>
<h3 id="context-retrieval">Context Retrieval</h3>
<pre><code class="language-ruby"># Get relevant context for a query
context = client.get_context(
  query: &quot;How do neural networks learn?&quot;,
  limit: 5
)

# Returns:
# {
#   context_chunks: [
#     {
#       content: &quot;Neural networks learn through backpropagation...&quot;,
#       source: &quot;/path/to/textbook.pdf&quot;,
#       similarity: 0.91,
#       chunk_index: 3
#     }
#   ],
#   combined_context: &quot;Neural networks learn through backpropagation...&quot;,
#   total_chunks: 5
# }
</code></pre>
<h3 id="prompt-enhancement">Prompt Enhancement</h3>
<pre><code class="language-ruby"># Enhance prompt with relevant context
enhanced = client.enhance_prompt(
  prompt: &quot;Explain how neural networks learn&quot;,
  context_limit: 5
)

# Returns:
# {
#   enhanced_prompt: &quot;You are an AI assistant. Use the following context...&quot;,
#   original_prompt: &quot;Explain how neural networks learn&quot;,
#   context_sources: [&quot;/path/to/textbook.pdf&quot;, &quot;/path/to/paper.pdf&quot;],
#   context_count: 3
# }
</code></pre>
<h2 id="document-status-and-monitoring">Document Status and Monitoring</h2>
<h3 id="processing-status">Processing Status</h3>
<pre><code class="language-ruby"># Check document processing status
status = client.document_status(id: &quot;123&quot;)
# Returns:
# {
#   document_id: &quot;123&quot;,
#   status: &quot;processing&quot;,  # pending, processing, processed, error
#   progress: 65,          # Percentage complete
#   message: &quot;Generating embeddings (15/24 chunks complete)&quot;,
#   jobs_queued: 2,
#   jobs_completed: 6,
#   estimated_completion: &quot;2024-01-15T10:30:00Z&quot;,
#   processing_steps: {
#     text_extraction: &quot;completed&quot;,
#     embedding_generation: &quot;in_progress&quot;,
#     keyword_extraction: &quot;queued&quot;,
#     summary_generation: &quot;queued&quot;
#   },
#   error_details: nil
# }

# Batch status check
statuses = client.batch_document_status(ids: [&quot;123&quot;, &quot;124&quot;, &quot;125&quot;])
</code></pre>
<h3 id="background-job-management">Background Job Management</h3>
<pre><code class="language-ruby"># Monitor background jobs
job_status = client.job_status
# Returns:
# {
#   active_jobs: 12,
#   queued_jobs: 5,
#   failed_jobs: 1,
#   queue_status: {
#     embeddings: { size: 3, latency: 2.5 },
#     processing: { size: 2, latency: 1.1 },
#     analysis: { size: 0, latency: 0.0 }
#   },
#   worker_status: {
#     busy_workers: 4,
#     idle_workers: 2,
#     total_workers: 6
#   }
# }

# Retry failed jobs
result = client.retry_failed_jobs(
  job_types: ['GenerateEmbeddingsJob'],
  older_than: 1.hour.ago
)
</code></pre>
<h2 id="system-operations">System Operations</h2>
<h3 id="health-monitoring">Health Monitoring</h3>
<pre><code class="language-ruby"># Simple health check
healthy = client.healthy?
# Returns true/false

# Basic system statistics
stats = client.stats
# Returns document statistics hash
</code></pre>
<h2 id="error-handling">Error Handling</h2>
<h3 id="standard-error-response-format">Standard Error Response Format</h3>
<pre><code class="language-ruby"># All methods return structured error information on failure
begin
  result = client.add_document(path: 'nonexistent.pdf')
rescue Ragdoll::Core::DocumentNotFoundError =&gt; e
  puts e.message  # &quot;File not found: nonexistent.pdf&quot;
  puts e.error_code  # &quot;DOCUMENT_NOT_FOUND&quot;
  puts e.details  # { path: 'nonexistent.pdf', checked_locations: [...] }
end

# Check for errors in response
result = client.search(query: &quot;test&quot;)
if result[:success]
  # Process results
  puts result[:results]
else
  # Handle error
  puts result[:error]
  puts result[:error_code]
  puts result[:details]
end
</code></pre>
<h3 id="common-error-types">Common Error Types</h3>
<pre><code class="language-ruby"># Document processing errors
Ragdoll::Core::DocumentNotFoundError
Ragdoll::Core::UnsupportedDocumentTypeError
Ragdoll::Core::DocumentProcessingError

# Search errors
Ragdoll::Core::InvalidQueryError
Ragdoll::Core::SearchTimeoutError
Ragdoll::Core::EmbeddingGenerationError

# Configuration errors
Ragdoll::Core::ConfigurationError
Ragdoll::Core::InvalidProviderError
Ragdoll::Core::MissingCredentialsError

# System errors
Ragdoll::Core::DatabaseConnectionError
Ragdoll::Core::BackgroundJobError
Ragdoll::Core::SystemHealthError
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-error-handling">1. Error Handling</h3>
<ul>
<li>Always check for errors in responses</li>
<li>Implement retry logic for transient failures</li>
<li>Log errors with sufficient context for debugging</li>
<li>Use appropriate error handling strategies for different error types</li>
</ul>
<h3 id="2-performance-optimization">2. Performance Optimization</h3>
<ul>
<li>Use batch operations for multiple documents</li>
<li>Implement appropriate caching for frequently accessed data</li>
<li>Monitor search performance and adjust thresholds accordingly</li>
<li>Use background processing for large document collections</li>
</ul>
<h3 id="3-search-strategy">3. Search Strategy</h3>
<ul>
<li>Start with default settings and tune based on results quality</li>
<li>Use faceted search to help users navigate large result sets</li>
<li>Implement search suggestions to improve user experience</li>
<li>Monitor search analytics to understand usage patterns</li>
</ul>
<h3 id="4-rag-implementation">4. RAG Implementation</h3>
<ul>
<li>Choose appropriate context limits based on your LLM's capabilities</li>
<li>Use prompt templates for consistent formatting</li>
<li>Include source attribution for transparency</li>
<li>Monitor RAG response quality and adjust context retrieval accordingly</li>
</ul>
<p>The Client API provides a comprehensive interface for building sophisticated document intelligence applications with Ragdoll, offering both simplicity for basic use cases and advanced features for complex requirements.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>